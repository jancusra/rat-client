"use strict";(self.webpackChunkrat_react=self.webpackChunkrat_react||[]).push([[328],{8328:function(e,t,n){var r=n(7294),a=n(9250),i=n(1721),o=n(3475),l=n(5305),u=n(7957),c=n(1733),s=n(4057),d=n(2986),f=n(5893);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t=(0,a.s0)(),n=y((0,r.useState)([]),2),h=n[0],m=n[1],v=y((0,r.useState)([]),2),p=v[0],w=v[1],b={},g={};function x(){i.ZP.post("/entity/getalltotable",{entityName:e.entityName}).then((function(n){var r=[];console.log(n.data.columns),n.data.columns.forEach((function(n){var a,o={field:(a=n.name,a.charAt(0).toLowerCase()+a.slice(1)),headerName:n.name};switch(("id"==o.field||n.hidden)&&(b[o.field]=!1),n.entryType){case"String":o.flex=1;break;case"Boolean":o.renderCell=function(e){var t=e.value;return(0,f.jsx)(f.Fragment,{children:t?(0,f.jsx)(s.Z,{name:"task_alt"}):(0,f.jsx)(s.Z,{name:"radio_button_unchecked"})})},o.width=150;break;case"DateTime":o.valueGetter=S,o.flex=1;break;case"Enum":g[o.field]=n.selectOptions,o.valueGetter=k,o.flex=1;break;case"MappedMultiSelect":o.renderCell=function(e){var t=e.row;return(0,f.jsx)(d.Z,{readOnly:!0,stringValues:!0,value:t.userRole,selectData:n.selectOptions})},o.width=600;break;case"EditInViewButton":o.renderCell=function(e){var n=e.row;return(0,f.jsx)(l.Z,{variant:"contained",color:"secondary",startIcon:(0,f.jsx)(u.Z,{}),disabled:!!n.hasOwnProperty("isSystemEntry")&&n.isSystemEntry,onClick:function(){return e=n.id,r=location.pathname.replace(/\/$/,""),void t(r+"/"+e);var e,r},children:"Edit"})},o.width=150;break;case"DeleteButton":o.renderCell=function(t){var n=t.row;return(0,f.jsx)(l.Z,{variant:"contained",color:"error",startIcon:(0,f.jsx)(c.Z,{}),disabled:!!n.hasOwnProperty("isSystemEntry")&&n.isSystemEntry,onClick:function(){return t=n.id,void i.ZP.post("/entity/deleteentity",{entityName:e.entityName,id:t}).then((function(){x()}));var t},children:"Delete"})},o.width=150}n.width>0&&(o.width=n.width),n.flex>0&&(o.flex=n.flex),r.push(o)})),m(r),w(n.data.data)}))}function S(e){return new Date(e.value).toLocaleString("en-us")}function k(e){return g[e.field][e.value]}return(0,r.useEffect)((function(){x()}),[]),(0,f.jsx)(o._,{sx:{width:"100%",height:500,margin:"10px 0 0"},getRowHeight:function(){return"auto"},rows:p,columns:h,pageSize:15,rowsPerPageOptions:[15],initialState:{columns:{columnVisibilityModel:b}}})}}}]);