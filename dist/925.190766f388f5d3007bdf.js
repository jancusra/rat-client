"use strict";(self.webpackChunkrat_react=self.webpackChunkrat_react||[]).push([[925],{6925:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(7294),a=n(9250),i=n(1721),o=n(6340),l=n(5305),u=n(7957),c=n(1733),s=n(4057),d=n(2986),f=n(7563),h={Debug:"bug_report",Information:"info",Warning:"warning",Error:"error",Fatal:"highlight_off"},y=n(5893);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=(0,a.s0)(),n=m((0,r.useState)([]),2),v=n[0],p=n[1],w=m((0,r.useState)([]),2),b=w[0],g=w[1],x=(0,r.useContext)(f.Z),S={},k={};function j(e){return e.charAt(0).toLowerCase()+e.slice(1)}function E(){i.ZP.post("/entity/getalltotable",{entityName:e.entityName}).then((function(n){var r=[];n.data.columns.forEach((function(n){var a={field:j(n.name),headerName:"EnumIcon"!=n.entryType?x[n.name]:""};switch(("id"==a.field||n.hidden)&&(S[a.field]=!1),n.entryType){case"String":a.flex=1;break;case"Boolean":a.renderCell=function(e){var t=e.value;return(0,y.jsx)(y.Fragment,{children:t?(0,y.jsx)(s.Z,{name:"task_alt"}):(0,y.jsx)(s.Z,{name:"radio_button_unchecked"})})},a.width=150;break;case"DateTime":a.valueGetter=C,a.flex=1;break;case"Enum":k[a.field]=n.selectOptions,a.valueGetter=Z,a.flex=1;break;case"EnumIcon":k[a.field]=n.selectOptions,a.renderCell=function(e){var t=e.value;return(0,y.jsx)(s.Z,{class:j(k[a.field][t]),name:h[k[a.field][t]]})},a.width=50;break;case"MappedMultiSelect":a.renderCell=function(e){var t=e.row;return(0,y.jsx)(d.Z,{readOnly:!0,stringValues:!0,value:t.userRole,selectData:n.selectOptions})},a.width=600;break;case"EditInViewButton":a.renderCell=function(e){var n=e.row;return(0,y.jsx)(l.Z,{variant:"contained",color:"secondary",startIcon:(0,y.jsx)(u.Z,{}),disabled:!!n.hasOwnProperty("isSystemEntry")&&n.isSystemEntry,onClick:function(){return e=n.id,r=location.pathname.replace(/\/$/,""),void t(r+"/"+e);var e,r},children:x.Edit})},a.width=150;break;case"DeleteButton":a.renderCell=function(t){var n=t.row;return(0,y.jsx)(l.Z,{variant:"contained",color:"error",startIcon:(0,y.jsx)(c.Z,{}),disabled:!!n.hasOwnProperty("isSystemEntry")&&n.isSystemEntry,onClick:function(){return t=n.id,void i.ZP.post("/entity/deleteentity",{entityName:e.entityName,id:t}).then((function(){E()}));var t},children:x.Delete})},a.width=150}n.width>0&&(a.width=n.width),n.flex>0&&(a.flex=n.flex),r.push(a)})),p(r),g(n.data.data)}))}function C(e){return new Date(e.value).toLocaleString("en-us")}function Z(e){return k[e.field][e.value]}return(0,r.useEffect)((function(){E()}),[]),(0,y.jsx)(o._,{sx:{width:"100%",height:500,margin:"10px 0 0"},getRowHeight:function(){return"auto"},rows:b,columns:v,pageSize:15,rowsPerPageOptions:[15],initialState:{columns:{columnVisibilityModel:S}}})}}}]);